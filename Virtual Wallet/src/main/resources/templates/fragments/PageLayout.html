<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title)">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title th:text="'FlowPay | ' + ${title}">Title</title>
  <!-- Favicon-->
  <link rel="icon" type="image/x-icon" href="../static/assets/favicon.ico" th:href="@{/assets/favicon.ico}"/>
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="../static/css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>
<body>

<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-light bg-white shadow fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand text-primary font-weight-bold" th:href="@{/}">FlowPay</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
            aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link text-dark font-weight-bold" th:href="@{/about}">About</a>
        </li>
        <li class="nav-item" th:if="${isAuthenticated}">
          <a class="nav-link text-dark font-weight-bold" th:href="@{/auth/account}">Account</a>
        </li>

        <li class="nav-item" th:if="${isAuthenticated}">
          <a class="nav-link text-dark font-weight-bold"
             th:href="${#lists.isEmpty(session.cards)} ? @{/auth/account/add-card} : @{/auth/account/cards}">
            <span th:text="${#lists.isEmpty(session.cards)} ? 'Add Card' : 'Manage Cards'"></span>
          </a>
        </li>

        <li class="nav-item" th:if="${isAuthenticated} and ${session.isAdmin}">
          <a class="nav-link text-dark font-weight-bold" th:href="@{/users/admin}">Admin Portal</a>
        </li>
        <li class="nav-item" th:unless="${isAuthenticated}">
          <a class="nav-link text-primary font-weight-bold" th:href="@{/auth/login}">Login</a>
        </li>
        <li class="nav-item" th:unless="${isAuthenticated}">
          <a class="nav-link text-primary font-weight-bold" th:href="@{/auth/register}">Register</a>
        </li>
        <li class="nav-item" th:if="${isAuthenticated}">
          <a class="nav-link text-danger font-weight-bold" th:href="@{/auth/logout}">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<footer th:fragment="footer" class="mt-5 footer py-4 bg-light shadow">
  <div class="container text-center">
        <span class="text-gray-700 small" th:text="'Â© Copyright ' + ${#dates.year(#dates.createNow())} + ' RevNation'">
        </span>
  </div>
</footer>

<div th:fragment="scripts">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
<!--  <script src="@{../static/js/scripts.js}"></script>-->
  <script src="/static/js/sb-admin-2.js"></script>
  <script src="/static/js/dark-mode.js"></script>
</div>


</body>
</html>